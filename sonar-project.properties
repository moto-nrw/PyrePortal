# SonarCloud Configuration for PyrePortal

# Project identification (moto-nrw organization)
sonar.projectKey=moto-nrw_PyrePortal
sonar.projectName=PyrePortal
sonar.organization=moto-nrw
sonar.projectVersion=0.1.0

# Source directories
sonar.sources=src,src-tauri/src
sonar.sourceEncoding=UTF-8

# TypeScript/JavaScript frontend configuration
sonar.typescript.lcov.reportPaths=coverage/lcov.info
sonar.javascript.lcov.reportPaths=coverage/lcov.info

# Exclusions from source analysis
sonar.exclusions=\
  **/node_modules/**,\
  **/dist/**,\
  **/build/**,\
  **/*.min.js,\
  **/*.d.ts,\
  **/coverage/**,\
  **/src-tauri/target/**,\
  **/src-tauri/gen/**,\
  **/*.config.js,\
  **/*.config.ts,\
  **/vite.config.ts,\
  **/*.test.ts,\
  **/*.test.tsx,\
  **/*.spec.ts,\
  **/*.spec.tsx,\
  **/src/test/**

# Test configuration
sonar.test.inclusions=**/*.test.ts,**/*.test.tsx,**/*.spec.ts,**/*.spec.tsx
sonar.test.exclusions=\
  **/*.test.ts,\
  **/*.test.tsx,\
  **/*.spec.ts,\
  **/*.spec.tsx

# Exclude test files from duplication detection
sonar.cpd.exclusions=**/*.test.ts,**/*.test.tsx,**/*.spec.ts,**/*.spec.tsx

# Coverage exclusions
sonar.coverage.exclusions=\
  **/*.test.ts,\
  **/*.test.tsx,\
  **/*.spec.ts,\
  **/*.spec.tsx,\
  **/src/test/**,\
  **/src/main.tsx,\
  **/src/vite-env.d.ts

# Rust source inclusion (SonarCloud supports Rust via community plugin)
sonar.rust.clippy.reportPaths=src-tauri/clippy-report.json

# Security settings
sonar.security.hotspots.inheritFromParent=true
